!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Diascope=e():t.Diascope=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=0)}([function(t,e,n){var i,o,r;!function(a,s){o=[t,e,n(1),n(3)],i=s,void 0!==(r="function"==typeof i?i.apply(e,o):i)&&(t.exports=r)}(0,function(t,e,n,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){t instanceof Element&&(t.style.transform="translateX("+e+"px)")}function s(){return{duration:200,step:1,animationEasing:"linear",loop:!1,shouldCenter:!1,drag:!0,elastic:!0}}function u(t,e,n,i){var o=e.length-1,r=[],a=void 0,s=void 0,u=void 0,l=void 0;if(a=g(e,n),s=m(e,n),t>0&&i&&s===o)return[e[0]];if(t<0&&i&&0===a)return[e[o]];s+t>o?(t=o-s,u=o-t,l=o):a+t<0?(t=0-a,u=0,l=0-t):(u=a+t,l=s+t);for(var c=u;c<=l;c++)r.push(e[c]);return r}function l(t,e){var n=v(t,e),i=y(t,e);return-1===n.indexOf(i)&&n.push(i),n}function c(t,e,n){return arguments.length>3&&void 0!==arguments[3]&&arguments[3]?p(t,e,n):h(t,n)?f(t,e,n):d(t,e,n)}function h(t,e){var n=y(t,e);return w(n,e)<b(n,e)}function f(t,e,n){var i=x(t),o=e.getBoundingClientRect(),r=n.getBoundingClientRect(),a=r.width-o.width;return E(o.left-i.left,a,0)}function d(t,e,n){var i=x(t),o=e.getBoundingClientRect(),r=n.getBoundingClientRect(),a=r.width-o.width;return E(o.left-r.left-(i.right-r.right),a,0)}function p(t,e,n){var i=x(t),o=e.getBoundingClientRect(),r=n.getBoundingClientRect(),a=r.width-o.width;return E(o.left-i.left+(r.width-i.width)/2,a,0)}function v(t,e){var n=t.filter(function(t){return P(t,e)});return n.length>0?n:[y(t,e)]}function g(t,e){return t.indexOf(v(t,e)[0])}function m(t,e){var n=v(t,e);return t.indexOf(n[n.length-1])}function y(t,e){for(var n=void 0,i=void 0,o=0;o<t.length;o++){var r=t[o],a=w(r,e),s=b(r,e);(void 0===n||n>Math.min(a,s))&&(n=Math.min(a,s),i=r)}return i}function w(t,e){return t instanceof Element&&e instanceof Element?Math.abs(t.getBoundingClientRect().left-e.getBoundingClientRect().left):0}function b(t,e){return t instanceof Element&&e instanceof Element?Math.abs(t.getBoundingClientRect().right-e.getBoundingClientRect().right):0}function S(t,e,n,i){var o=n.getBoundingClientRect().width-e.getBoundingClientRect().width,r=E(t,o,0);return!1===i?r:t-r!=0?r+.25*(t-r):t}function E(t,e,n){return t<e?e:t>n?n:t}function x(t){var e=void 0,n=void 0;return t.forEach(function(t){(void 0===e||t.getBoundingClientRect().left<e)&&(e=t.getBoundingClientRect().left),(void 0===n||t.getBoundingClientRect().right>n)&&(n=t.getBoundingClientRect().right)}),{left:e,right:n,width:n-e}}function P(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect();return n.left>=i.left&&n.right<=i.right}function C(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];k()?(i.hasOwnProperty("passive")||"wheel"!==t&&"mousewheel"!==t&&"touchstart"!==t&&"touchmove"!==t||(i.passive=!0),e.addEventListener(t,n,i,o)):e.addEventListener?e.addEventListener(t,n,o):e.attachEvent("on"+t,n)}function k(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t}function O(t){if(window.getComputedStyle){var e=window.getComputedStyle(t),n=e.transform||e.webkitTransform||e.mozTransform,i=n.match(/^matrix3d\((.+)\)$/);if(i)return parseFloat(i[1].split(", ")[13]);var o=n.match(/^matrix\((.+)\)$/);if(o)return parseFloat(o[1].split(", ")[4])}return 0}function R(t){t||(t=window.event),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function D(t){t||(t=window.event),t.stopPropagation&&t.stopPropagation(),t.returnValue=!1}Object.defineProperty(e,"__esModule",{value:!0});var B=o(n),M=o(i),T=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),F=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,t),i=Object.assign(s(),i),this.elementFrame=e,this.elementReel=n,this.elementsSlides=Array.from(this.elementReel.children),this.animationEasing=i.animationEasing,this.step=i.step,this.loop=i.loop,this.shouldCenter=i.shouldCenter,this.duration=i.duration,this.drag=i.drag,this.elastic=i.elastic,this.isDragging=!1,this.cursor=new M.default,this.setOnSlideStart(i.onSlideStart),this.setOnSlideEnd(i.onSlideEnd),this.setOnSlide(i.onSlide),i.hasOwnProperty("elementNavigateNext")&&this.addElementNavigateNext(i.elementNavigateNext),i.hasOwnProperty("elementNavigatePrevious")&&this.addElementNavigatePrevious(i.elementNavigatePrevious),this.drag&&this.initializeDragging(this.elementReel)}return T(t,[{key:"next",value:function(){this.panSlides(this.step)}},{key:"previous",value:function(){this.panSlides(-1*this.step)}},{key:"panSlides",value:function(t){var e=u(t,this.elementsSlides,this.elementFrame,this.loop);if(e.length>0){var n=c(e,this.elementReel,this.elementFrame,this.shouldCenter);this.reelAnimation&&this.reelAnimation.end(),this.reelAnimation=new B.default(this.elementReel,n,this.duration,this.animationEasing,{onStart:this.onSlideStart,onEnd:this.onSlideEnd,onStep:this.onSlide}),this.reelAnimation.start()}}},{key:"getVisibleSlides",value:function(){return v(this.elementsSlides,this.elementFrame)}},{key:"initializeDragging",value:function(t){C("mousedown",t,this.onGrab.bind(this),{passive:!1}),C("touchstart",t,this.onGrab.bind(this),{passive:!1}),C("mousemove",document,this.onDrag.bind(this),{passive:!1}),C("touchmove",document,this.onDrag.bind(this),{passive:!1}),C("mouseup",document,this.onDragEnd.bind(this),{passive:!1}),C("touchend",document,this.onDragEnd.bind(this),{passive:!1}),C("click",t,this.preventClickInteractionDuringDragging.bind(this),{passive:!1})}},{key:"onGrab",value:function(t){this.drag&&(D(t),this.isGrabbed=!0,this.cursor.updateWithEvent(t),this.dragReelOffsetStart=O(this.elementReel),this.dragPositionStart=this.cursor.getCurrentPosition(),this.dragDistanceHorizontal=0)}},{key:"onDrag",value:function(t){if(this.isGrabbed&&(this.isDragging=!0),this.drag&&this.isDragging){R(t),this.cursor.updateWithEvent(t),this.dragDistanceHorizontal=this.cursor.getCurrentPosition().x-this.dragPositionStart.x;var e=S(this.dragReelOffsetStart+this.dragDistanceHorizontal,this.elementReel,this.elementFrame,this.elastic);a(this.elementReel,e)}}},{key:"onDragEnd",value:function(t){var e=this;if(this.isGrabbed&&(this.isGrabbed=!1),this.isDragging){D(t);var n=l(this.elementsSlides,this.elementFrame),i=c(n,this.elementReel,this.elementFrame,this.shouldCenter);this.reelAnimation=new B.default(this.elementReel,i,this.duration,this.animationEasing,{onStart:this.onSlideStart,onEnd:this.onSlideEnd,onStep:this.onSlide}),this.reelAnimation.start(),setTimeout(function(){e.isDragging=!1},100)}}},{key:"preventClickInteractionDuringDragging",value:function(t){this.isDragging&&D(t)}},{key:"addElementNavigateNext",value:function(t){t instanceof Element&&C("click",t,this.next.bind(this))}},{key:"addElementNavigatePrevious",value:function(t){t instanceof Element&&C("click",t,this.previous.bind(this))}},{key:"setAnimationEasing",value:function(t){this.animationEasing=t}},{key:"setOnSlideStart",value:function(t){"function"==typeof t&&(this.onSlideStart=t)}},{key:"setOnSlideEnd",value:function(t){"function"==typeof t&&(this.onSlideEnd=t)}},{key:"setOnSlide",value:function(t){"function"==typeof t&&(this.onSlide=t)}}]),t}();e.default=F,t.exports=e.default})},function(t,e,n){var i,o,r;!function(a,s){o=[t,e,n(2)],i=s,void 0!==(r="function"==typeof i?i.apply(e,o):i)&&(t.exports=r)}(0,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){if("object"===(void 0===t?"undefined":l(t))&&4===t.length)return u.default.createCustomAnimation(t[0],t[1],t[2],t[3]);switch(t){case"ease":return u.default.createEase();case"easeIn":return u.default.createEaseIn();case"easeOut":return u.default.createEaseOut();case"easeInOut":return u.default.createEaseInOut();case"linear":default:return u.default.createLinear()}}function r(t,e){t instanceof Element&&(t.style.transform="translateX("+e+"px)")}function a(t,e,n,i){var o=t/n;return e*i.calculateVerticalForTime(o)}function s(t){if(window.getComputedStyle){var e=window.getComputedStyle(t),n=e.transform||e.webkitTransform||e.mozTransform,i=n.match(/^matrix3d\((.+)\)$/);if(i)return parseFloat(i[1].split(", ")[13]);var o=n.match(/^matrix\((.+)\)$/);if(o)return parseFloat(o[1].split(", ")[4])}return 0}Object.defineProperty(e,"__esModule",{value:!0});var u=function(t){return t&&t.__esModule?t:{default:t}}(n),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(){function t(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"linear",u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};i(this,t),this.element=e,this.startingPosition=s(e),this.currentPosition=this.startingPosition,this.newPosition=n,this.animationBezierCurve=o(a),this.onStart=u.onStart,this.onEnd=u.onEnd,this.onStep=u.onStep,this.startTime,this.previousStepTime,this.duration=r}return c(t,[{key:"start",value:function(){var t=this;this.requestId=window.requestAnimationFrame(function(e){t.startTime=e,t.step(e)}),this.hasOwnProperty("onStart")&&"function"==typeof this.onStart&&this.onStart()}},{key:"end",value:function(){this.requestId&&(window.cancelAnimationFrame(this.requestId),delete this.requestId,this.hasOwnProperty("onEnd")&&"function"==typeof this.onEnd&&this.onEnd())}},{key:"step",value:function(t){var e=t-this.startTime,n=this.newPosition-this.startingPosition,i=a(e,n,this.duration,this.animationBezierCurve);this.currentPosition=this.startingPosition+i,r(this.element,this.currentPosition),this.hasOwnProperty("onStep")&&"function"==typeof this.onStep&&this.onStep(),this.currentPosition!==this.newPosition?this.requestId=window.requestAnimationFrame(this.step.bind(this)):this.end()}}]),t}();e.default=h,t.exports=e.default})},function(t,e,n){var i,o,r;!function(n,a){o=[t,e],i=a,void 0!==(r="function"==typeof i?i.apply(e,o):i)&&(t.exports=r)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){return t<e?e:t>n?n:t}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e,i,o,r,a,s,u,l){n(this,t),this.p0={x:e,y:i},this.p1={x:o,y:r},this.p2={x:a,y:s},this.p3={x:u,y:l}}return o(t,[{key:"calculateVerticalForTime",value:function(t){return t=i(t,0,1),Math.pow(1-t,3)*this.p0.y+3*Math.pow(1-t,2)*t*this.p1.y+3*(1-t)*Math.pow(t,2)*this.p2.y+Math.pow(t,3)*this.p3.y}},{key:"calculateHorizontalForTime",value:function(t){return t=i(t,0,1),Math.pow(1-t,3)*this.p0.x+3*Math.pow(1-t,2)*t*this.p1.x+3*(1-t)*Math.pow(t,2)*this.p2.x+Math.pow(t,3)*this.p3.x}}],[{key:"createCustomAnimation",value:function(e,n,i,o){return new t(0,0,e,n,i,o,1,1)}},{key:"createLinear",value:function(){return new t(0,0,0,0,1,1,1,1)}},{key:"createEase",value:function(){return new t(0,0,.25,.1,.25,1,1,1)}},{key:"createEaseIn",value:function(){return new t(0,0,.42,0,1,1,1,1)}},{key:"createEaseOut",value:function(){return new t(0,0,0,0,.58,1,1,1)}},{key:"createEaseInOut",value:function(){return new t(0,0,.42,0,.58,1,1,1)}}]),t}();e.default=r,t.exports=e.default})},function(t,e,n){var i,o,r;!function(n,a){o=[t,e],i=a,void 0!==(r="function"==typeof i?i.apply(e,o):i)&&(t.exports=r)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return"number"==typeof t.clientX&&"number"==typeof t.clientY?{x:t.clientX,y:t.clientY}:"number"==typeof t.pageX&&"number"==typeof t.pageY?{x:t.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,y:t.pageY-document.body.scrollTop-document.documentElement.scrollTop}:{x:0,y:0}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){n(this,t),this.position={x:0,y:0},this.positionPrevious={x:0,y:0},this.positionChange={x:0,y:0}}return o(t,[{key:"updateWithEvent",value:function(t){t||(t=window.event),t.touches&&t.touches[0]&&(t=t.touches[0]);var e=i(t);this.positionPrevious=this.position,this.position=e,this.positionChange={x:e.x-this.positionPrevious.x,y:e.y-this.positionPrevious.y}}},{key:"getCurrentPosition",value:function(){return this.position}},{key:"getPreviousPosition",value:function(){return this.positionPrevious}},{key:"getChange",value:function(){return this.positionChange}}]),t}();e.default=r,t.exports=e.default})}])});
//# sourceMappingURL=diascope.min.js.map