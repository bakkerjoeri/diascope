!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Diascope=e():t.Diascope=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=0)}([function(t,e,n){var i,o,a;!function(r,s){o=[t,e,n(1),n(3),n(4)],i=s,void 0!==(a="function"==typeof i?i.apply(e,o):i)&&(t.exports=a)}(0,function(t,e,n,i,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){t instanceof Element&&(t.style.transform="translateX("+e+"px)")}function u(){return{duration:200,step:1,animationEasing:"linear",loop:!1,shouldCenter:!1,drag:!0,elastic:!0}}function l(t,e,n,i){var o=e.length-1,a=[],r=void 0,s=void 0,u=void 0,l=void 0;if(r=y(e,n),s=m(e,n),t>0&&i&&s===o)return[e[0]];if(t<0&&i&&0===r)return[e[o]];s+t>o?(t=o-s,u=o-t,l=o):r+t<0?(t=0-r,u=0,l=0-t):(u=r+t,l=s+t);for(var c=u;c<=l;c++)a.push(e[c]);return a}function c(t,e){var n=g(t,e),i=b(t,e);return-1===n.indexOf(i)&&n.push(i),n}function h(t,e,n){return arguments.length>3&&void 0!==arguments[3]&&arguments[3]?p(t,e,n):f(t,n)?d(t,e,n):v(t,e,n)}function f(t,e){var n=b(t,e);return w(n,e)<E(n,e)}function d(t,e,n){var i=S(t),o=S(e),a=n.getBoundingClientRect(),r=a.width-o.width;return P(o.left-i.left,r,0)}function v(t,e,n){var i=S(t),o=S(e),a=n.getBoundingClientRect(),r=a.width-o.width;return P(o.left-a.left-(i.right-a.right),r,0)}function p(t,e,n){var i=S(t),o=S(e),a=n.getBoundingClientRect(),r=a.width-o.width;return P(o.left-i.left+(a.width-i.width)/2,r,0)}function g(t,e){var n=t.filter(function(t){return C(t,e)});return n.length>0?n:[b(t,e)]}function y(t,e){return t.indexOf(g(t,e)[0])}function m(t,e){var n=g(t,e);return t.indexOf(n[n.length-1])}function b(t,e){for(var n=void 0,i=void 0,o=0;o<t.length;o++){var a=t[o],r=w(a,e),s=E(a,e);(void 0===n||n>Math.min(r,s))&&(n=Math.min(r,s),i=a)}return i}function w(t,e){return t instanceof Element&&e instanceof Element?Math.abs(t.getBoundingClientRect().left-e.getBoundingClientRect().left):0}function E(t,e){return t instanceof Element&&e instanceof Element?Math.abs(t.getBoundingClientRect().right-e.getBoundingClientRect().right):0}function k(t,e,n,i){var o=n.getBoundingClientRect().width-S(e).width,a=P(t,o,0);return!1===i?a:t-a!=0?a+.25*(t-a):t}function P(t,e,n){return t<e?e:t>n?n:t}function S(t){var e=void 0,n=void 0;return t.forEach(function(t){(void 0===e||t.getBoundingClientRect().left<e)&&(e=t.getBoundingClientRect().left),(void 0===n||t.getBoundingClientRect().right>n)&&(n=t.getBoundingClientRect().right)}),{left:e,right:n,width:n-e}}function C(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect();return n.left>=i.left&&n.right<=i.right}function x(t){if(window.getComputedStyle){var e=window.getComputedStyle(t),n=e.transform||e.webkitTransform||e.mozTransform,i=n.match(/^matrix3d\((.+)\)$/);if(i)return parseFloat(i[1].split(", ")[13]);var o=n.match(/^matrix\((.+)\)$/);if(o)return parseFloat(o[1].split(", ")[4])}return 0}Object.defineProperty(e,"__esModule",{value:!0});var D=a(n),M=a(i),O=a(o),T=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),L=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,t),i=Object.assign(u(),i),this.elementFrame=e,this.elementReel=n,this.elementsSlides=Array.from(this.elementReel.children),this.animationEasing=i.animationEasing,this.step=i.step,this.loop=i.loop,this.shouldCenter=i.shouldCenter,this.duration=i.duration,this.drag=i.drag,this.elastic=i.elastic,this.currentPanDistance=0,this.isPanning=!1,this.isDragging=!1,this.cursor=new M.default,this.setSlideStartCallback(i.slideStartCallback),this.setSlideEndCallback(i.slideEndCallback),this.setSlideCallback(i.slideCallback),i.hasOwnProperty("elementNavigateNext")&&this.addElementNavigateNext(i.elementNavigateNext),i.hasOwnProperty("elementNavigatePrevious")&&this.addElementNavigatePrevious(i.elementNavigatePrevious),this.drag&&this.initializeDragging(this.elementFrame)}return T(t,[{key:"next",value:function(){this.currentPanDistance<0&&this.cancelPanning(),this.currentPanDistance=this.step,this.panWithDistance(this.currentPanDistance)}},{key:"previous",value:function(){this.currentPanDistance>0&&this.cancelPanning(),this.currentPanDistance=-1*this.step,this.panWithDistance(this.currentPanDistance)}},{key:"panWithDistance",value:function(t){if(!this.isPanning){var e=l(t,this.elementsSlides,this.elementFrame,this.loop);this.panSlidesIntoView(e)}}},{key:"panSlidesIntoView",value:function(t){if(!this.isPanning&&t.length>0){this.isPanning=!0;var e=h(t,this.elementsSlides,this.elementFrame,this.shouldCenter);this.reelAnimation&&this.reelAnimation.destroy(),this.reelAnimation=new D.default(this.elementReel,e,this.duration,this.animationEasing,{onStart:this.onSlideStart.bind(this),onEnd:this.onSlideEnd.bind(this),onStep:this.onSlide.bind(this)}),this.reelAnimation.start()}}},{key:"getVisibleSlides",value:function(){return g(this.elementsSlides,this.elementFrame)}},{key:"initializeDragging",value:function(t){O.default.addEventListener("mousedown",t,this.handleMouseDown.bind(this),{passive:!1}),O.default.addEventListener("touchstart",t,this.handleTouchStart.bind(this),{passive:!1}),O.default.addEventListener("mousemove",document,this.handleMouseMove.bind(this),{passive:!1}),O.default.addEventListener("touchmove",document,this.handleTouchMove.bind(this),{passive:!1}),O.default.addEventListener("mouseup",document,this.onDragEnd.bind(this),{passive:!1}),O.default.addEventListener("touchend",document,this.onDragEnd.bind(this),{passive:!1}),O.default.addEventListener("click",t,this.preventClickInteractionDuringDragging.bind(this),{passive:!1})}},{key:"handleMouseDown",value:function(t){this.cursor.updateWithEvent(t),O.default.preventEventDefaults(t),O.default.stopEventPropagation(t),this.drag&&O.default.isEventUnmodifiedLeftMouseDown(t)&&this.onGrab(t)}},{key:"handleTouchStart",value:function(t){this.cursor.updateWithEvent(t),O.default.stopEventPropagation(t),this.drag&&this.onGrab(t)}},{key:"handleMouseMove",value:function(t){this.cursor.updateWithEvent(t),this.drag&&this.isGrabbed&&!this.isDragging&&(this.isDragging=!0),this.drag&&this.isDragging&&(O.default.preventEventDefaults(t),this.onDrag(t))}},{key:"handleTouchMove",value:function(t){this.cursor.updateWithEvent(t),this.isGrabbed&&!this.isDragging&&(this.cursor.isMovementHorizontal()?(this.isDragging=!0,"function"==typeof this.onSlideStart&&this.onSlideStart()):this.isGrabbed=!1),this.drag&&this.isDragging&&(O.default.preventEventDefaults(t),this.onDrag(t))}},{key:"onGrab",value:function(){this.isGrabbed=!0,this.dragReelOffsetStart=x(this.elementReel),this.dragPositionStart=this.cursor.getCurrentPosition(),this.dragDistanceHorizontal=0}},{key:"onDrag",value:function(){this.cancelPanning(),this.dragDistanceHorizontal=this.cursor.getCurrentPosition().x-this.dragPositionStart.x;var t=k(this.dragReelOffsetStart+this.dragDistanceHorizontal,this.elementsSlides,this.elementFrame,this.elastic);s(this.elementReel,t),"function"==typeof this.onSlide&&this.onSlide()}},{key:"onDragEnd",value:function(t){var e=this;this.isGrabbed&&(this.isGrabbed=!1),this.isDragging&&(O.default.stopEventPropagation(t),setTimeout(function(){e.isDragging=!1;var t=c(e.elementsSlides,e.elementFrame);e.panSlidesIntoView(t)},0))}},{key:"preventClickInteractionDuringDragging",value:function(t){this.isDragging&&O.default.stopEventPropagation(t)}},{key:"addElementNavigateNext",value:function(t){t instanceof Element&&O.default.addEventListener("click",t,this.next.bind(this))}},{key:"addElementNavigatePrevious",value:function(t){t instanceof Element&&O.default.addEventListener("click",t,this.previous.bind(this))}},{key:"setAnimationEasing",value:function(t){this.animationEasing=t}},{key:"setSlideStartCallback",value:function(t){"function"==typeof t&&(this.slideStartCallback=t)}},{key:"setSlideEndCallback",value:function(t){"function"==typeof t&&(this.slideEndCallback=t)}},{key:"setSlideCallback",value:function(t){"function"==typeof t&&(this.slideCallback=t)}},{key:"onSlide",value:function(){"function"==typeof this.slideCallback&&this.slideCallback()}},{key:"onSlideStart",value:function(){"function"==typeof this.slideStartCallback&&this.slideStartCallback()}},{key:"onSlideEnd",value:function(){this.isPanning=!1,this.currentPanDistance=0,"function"==typeof this.slideEndCallback&&this.slideEndCallback()}},{key:"cancelPanning",value:function(){this.reelAnimation&&(this.reelAnimation.destroy(),delete this.reelAnimation),this.isPanning=!1,this.currentPanDistance=0}}]),t}();e.default=L,t.exports=e.default})},function(t,e,n){var i,o,a;!function(r,s){o=[t,e,n(2)],i=s,void 0!==(a="function"==typeof i?i.apply(e,o):i)&&(t.exports=a)}(0,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){if("object"===(void 0===t?"undefined":l(t))&&4===t.length)return u.default.createCustomAnimation(t[0],t[1],t[2],t[3]);switch(t){case"ease":return u.default.createEase();case"easeIn":return u.default.createEaseIn();case"easeOut":return u.default.createEaseOut();case"easeInOut":return u.default.createEaseInOut();case"linear":default:return u.default.createLinear()}}function a(t,e){t instanceof Element&&(t.style.transform="translateX("+e+"px)")}function r(t,e,n,i){var o=t/n;return e*i.calculateVerticalForTime(o)}function s(t){if(window.getComputedStyle){var e=window.getComputedStyle(t),n=e.transform||e.webkitTransform||e.mozTransform,i=n.match(/^matrix3d\((.+)\)$/);if(i)return parseFloat(i[1].split(", ")[13]);var o=n.match(/^matrix\((.+)\)$/);if(o)return parseFloat(o[1].split(", ")[4])}return 0}Object.defineProperty(e,"__esModule",{value:!0});var u=function(t){return t&&t.__esModule?t:{default:t}}(n),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(){function t(e,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"linear",u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};i(this,t),this.element=e,this.startingPosition=s(e),this.currentPosition=this.startingPosition,this.newPosition=n,this.animationBezierCurve=o(r),this.onStart=u.onStart,this.onEnd=u.onEnd,this.onStep=u.onStep,this.startTime,this.previousStepTime,this.duration=a}return c(t,[{key:"start",value:function(){var t=this;this.requestId=window.requestAnimationFrame(function(e){t.startTime=e,t.step(e)}),this.hasOwnProperty("onStart")&&"function"==typeof this.onStart&&this.onStart()}},{key:"end",value:function(){this.requestId&&(this.destroy(),this.hasOwnProperty("onEnd")&&"function"==typeof this.onEnd&&this.onEnd())}},{key:"destroy",value:function(){this.requestId&&(window.cancelAnimationFrame(this.requestId),delete this.requestId)}},{key:"step",value:function(t){var e=t-this.startTime,n=this.newPosition-this.startingPosition,i=r(e,n,this.duration,this.animationBezierCurve);this.currentPosition=this.startingPosition+i,a(this.element,this.currentPosition),this.hasOwnProperty("onStep")&&"function"==typeof this.onStep&&this.onStep(),this.currentPosition!==this.newPosition?this.requestId=window.requestAnimationFrame(this.step.bind(this)):this.end()}}]),t}();e.default=h,t.exports=e.default})},function(t,e,n){var i,o,a;!function(n,r){o=[t,e],i=r,void 0!==(a="function"==typeof i?i.apply(e,o):i)&&(t.exports=a)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){return t<e?e:t>n?n:t}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(e,i,o,a,r,s,u,l){n(this,t),this.p0={x:e,y:i},this.p1={x:o,y:a},this.p2={x:r,y:s},this.p3={x:u,y:l}}return o(t,[{key:"calculateVerticalForTime",value:function(t){return t=i(t,0,1),Math.pow(1-t,3)*this.p0.y+3*Math.pow(1-t,2)*t*this.p1.y+3*(1-t)*Math.pow(t,2)*this.p2.y+Math.pow(t,3)*this.p3.y}},{key:"calculateHorizontalForTime",value:function(t){return t=i(t,0,1),Math.pow(1-t,3)*this.p0.x+3*Math.pow(1-t,2)*t*this.p1.x+3*(1-t)*Math.pow(t,2)*this.p2.x+Math.pow(t,3)*this.p3.x}}],[{key:"createCustomAnimation",value:function(e,n,i,o){return new t(0,0,e,n,i,o,1,1)}},{key:"createLinear",value:function(){return new t(0,0,0,0,1,1,1,1)}},{key:"createEase",value:function(){return new t(0,0,.25,.1,.25,1,1,1)}},{key:"createEaseIn",value:function(){return new t(0,0,.42,0,1,1,1,1)}},{key:"createEaseOut",value:function(){return new t(0,0,0,0,.58,1,1,1)}},{key:"createEaseInOut",value:function(){return new t(0,0,.42,0,.58,1,1,1)}}]),t}();e.default=a,t.exports=e.default})},function(t,e,n){var i,o,a;!function(n,r){o=[t,e],i=r,void 0!==(a="function"==typeof i?i.apply(e,o):i)&&(t.exports=a)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return"number"==typeof t.clientX&&"number"==typeof t.clientY?{x:t.clientX,y:t.clientY}:"number"==typeof t.pageX&&"number"==typeof t.pageY?{x:t.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,y:t.pageY-document.body.scrollTop-document.documentElement.scrollTop}:{x:0,y:0}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(){n(this,t),this.position={x:0,y:0},this.positionPrevious={x:0,y:0},this.positionChange={x:0,y:0}}return o(t,[{key:"updateWithEvent",value:function(t){t||(t=window.event),t.touches&&t.touches[0]&&(t=t.touches[0]);var e=i(t);this.positionPrevious=this.position,this.position=e,this.positionChange={x:e.x-this.positionPrevious.x,y:e.y-this.positionPrevious.y}}},{key:"getCurrentPosition",value:function(){return this.position}},{key:"getPreviousPosition",value:function(){return this.positionPrevious}},{key:"getChange",value:function(){return this.positionChange}},{key:"isMovementHorizontal",value:function(){return Math.abs(this.getChange().x)>=Math.abs(this.getChange().y)}},{key:"isMovementVertical",value:function(){return Math.abs(this.getChange().y)>=Math.abs(this.getChange().x)}}]),t}();e.default=a,t.exports=e.default})},function(t,e,n){var i,o,a;!function(n,r){o=[t,e],i=r,void 0!==(a="function"==typeof i?i.apply(e,o):i)&&(t.exports=a)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(){n(this,t)}return o(t,null,[{key:"addEventListener",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i()?(o.hasOwnProperty("passive")||"wheel"!==t&&"mousewheel"!==t&&"touchstart"!==t&&"touchmove"!==t||(o.passive=!0),e.addEventListener(t,n,o,a)):e.addEventListener?e.addEventListener(t,n,a):e.attachEvent("on"+t,n)}},{key:"isEventUnmodifiedLeftMouseDown",value:function(t){return!(0!==t.button||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey)}},{key:"preventEventDefaults",value:function(t){t||(t=window.event),t.preventDefault&&t.preventDefault(),t.returnValue=!1}},{key:"stopEventPropagation",value:function(t){t||(t=window.event),t.stopPropagation&&t.stopPropagation(),t.returnValue=!1}}]),t}();e.default=a,t.exports=e.default})}])});
//# sourceMappingURL=diascope.min.js.map